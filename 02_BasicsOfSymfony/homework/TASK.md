# Модуль 2: "Основы Symfony" - Домашняя работа


## Правильная работа над проектом

Задание должно быть выполнено на отдельной ветке. После выполнения задания запуште эту ветку и создайте Merge Request. В рамках этого Merge Request будет осуществляться проверка домашней работы. Как только все замечания будут устранены - вы сольете его в ветку master.


## Доработка проекта

Подключите к проекту библиотеки: `maker --dev`, и `demontpx/parsedown-bundle`.

Для разметки контента статьи будем использовать… барабанная дробь... **markdown**, как неожиданно.

Реализуйте сервис `App\Service\MarkdownParser`. Который будет парсить **markdown** контент в **html**.

Реализуйте сервис также, как и в уроках, вместе с кешированием и конфигурированием в файле *services.yaml*


## Сервис генерации контента статьи


### Интерфейс сервиса

Создайте сервис по генерации контента статьи, для этого создайте интерфейс `App\Homework\ArticleContentProviderInterface`, этот интерфейс должен содержать один метод:


```
get(int $paragraphs, string $word = null, int $wordsCount = 0): string
```

### Сервис

Создайте сервис реализующий этот интерфейс `App\Homework\ArticleContentProvider`.

У сервиса должна быть одна конфигурируемая с помощью **.env** опция - выделять жирным или курсивом. .env параметр должен называться: переменной с названием: `MARK_ARTICLE_WORDS_WITH_BOLD`

Этот сервис должен содержать не менее 5-ти различных предустановленных параграфов с текстом, с любой **markdown** разметкой, на ваше усмотрение, в каждом из них. При вызове его метода `get()` он в виде текста должен вернуть указанное количество случайных параграфов (параграфы могут повторяться). Если указано слово `$word`, то это слово должно повториться указанное количество раз, среди всего итогового текста в случайных местах (но оно не должно при этом разрывать слова на части, а должно помещаться между слов), при этом это слово должно быть выделено *жирным* или *курсивным* начертанием в соответствии с установленной опцией. 


### Подключение сервиса

Подключите указанный сервис, используя интерфейс сервиса, в контроллере детальной страницы статьи.

С помощью этого сервиса сгенерируйте контент статьи состоящий из 2-10 параграфов.

С вероятностью 70% передавайте второй и третий параметр в метод `get()` укажите случайное слово (создайте массив внутри этого контроллера со словами 5-10 шт.), и случайное количество его повторений (выберите любой адекватный диапазон).


## *Задание со звездочкой


### Консольная точка входа для сервиса

Создайте консольную команду **app:article:content_provider** с тремя, уже знакомыми вам аргументами:


```
int $paragraphs
string $word = null
int $wordsCount = 0 
```


Эта консольная команда должна воспользоваться созданным ранее сервисом `App\Homework\ArticleContentProviderInterface` и вывести результат его работы.


### Api точка входа для сервиса

Создайте отдельный Api-маршрут **GET /api/v1/article_content/**, который на вход в виде тела запроса принимает **json-объект** с тремя, уже знакомыми вам параметрами:


```
int $paragraphs
string $word = null
int $wordsCount = 0 
```


Эта команда должна вернуть **json-объект **с одним полем **text**, в которое должен быть помещен результат работы созданного ранее сервиса `App\Homework\ArticleContentProviderInterface`.

Подсказка, как получить данные из тела запроса: [https://symfony.com/doc/current/components/http_foundation.html#accessing-request-data](https://symfony.com/doc/current/components/http_foundation.html#accessing-request-data)

Для отправки http запроса можно использовать встроенный в PhpStorm HTTP-клиент, пример кода:

```
GET https://localhost:8000/api/v1/article_content/
Accept: application/json
Cache-Control: no-cache

{
  "paragraphs": 3,
  "word": "Hello",
  "wordCount": 2
}
```