# Модуль 4: "Библиотека работы с базой данных Doctrine Orm" - Домашняя работа


## Правильная работа над проектом

Задание должно быть выполнено на отдельной ветке. После выполнения задания запуште эту ветку и создайте Merge Request. В рамках этого Merge Request будет осуществляться проверка домашней работы. Как только все замечания будут устранены - вы сольете его в ветку master.


## Доработка проекта

### Подключение БД к проекту
Установите и настройте `doctrine` в ваш проект, и создайте модель статьи **Article**, со следующими полями:
- `title` - заголовок статьи
- `slug` - символьный код - уникальное, максимум 100 символов
- `description` - краткое описание статьи - максимум 100 символов
- `body` - содержание статьи
- `author` - имя автора этой статьи
- `keywords` - ключевые слова - необязательное
- `voteCount` - количество голосов - необязательное
- `imageFilename` - имя файла изображения - необязательное
- `publishedAt` - дата публикации статьи - необязательное

Создайте миграцию, для генерации таблицы этой модели.

### Создание статей
Создайте новую страницу на сайте `/admin/articles/create`. При заходе на эту страницу создавайте новую статью заполняя все поля статичными данными.

### Интеграция верстки
Интегрируйте верстку главной страницы со списком статей и верстку детальной страницы, используя данные о статьях из БД.

#### Главная страница
На главной странице должны выводится только опубликованные статьи в порядке убывания даты публикации. Т.е. статья опубликованная вчера должна быть выше чем статья опубликованная неделю назад. Здесь также выводится описание статьи. 

#### Детальная страница статьи
Детальная страница должна открываться по адресу `/articles/{slug}` - где *slug* - это символьный код соответствующей статьи. При этом для получения необходимой модели привяжите этот объект к методу контроллера (укажите его в качестве зависимости)

Если количество голосов больше нуля, то выводите число голосов зеленым цветом (css класс - `.text-success`), если количество голосов меньше нуля, то красным (css класс - `.text-danger`) [Bootstrap Colors](https://getbootstrap.com/docs/4.0/utilities/colors/)

Заголовок страницы должен быть вида: `заголовок статьи - название сайта` 

Также, на детальной странице, если поле `keywords` статьи заполнено, то его значение должно быть помещено в мета-тег `keywords`, который должен находится в блоке `head` верстки страницы
```html
<meta name="keywords" content="..." />
```

### Голосование за статью
Создайте два маршрута на сайте: один для голосования за статью, а второй для голосования против

Адреса маршрутов должны быть соответственно:

* *POST /articles/{slug}/vote/up*
* *POST /articles/{slug}/vote/down*

При голосовании За - количество голосов статьи должно увеличиваться на единицу, при голосовании против - должно уменьшать на единицу, могут быть и отрицательные значения.

Для реализации задачи используйте *ajax* запросы на созданные маршруты. 

*Вы можете использовать javascript файл приложенный к этому заданию (vote.js)*


## *Задание со звездочкой
Для генерации контента статьи в специальном маршруте для создания статьи `/admin/articles/create` используйте ранее созданный сервис: `App\Homework\ArticleContentProvider`

Используйте ту же логику, что и ранее была использована на детальной странице статьи:

> С помощью этого сервиса сгенерируйте контент статьи состоящий из 2-10 параграфов.
>
> С вероятностью 70% передавайте второй и третий параметр в метод `get()` укажите случайное слово (создайте массив внутри этого контроллера со словами 5-10 шт.), и случайное количество его повторений (выберите любой адекватный диапазон).
